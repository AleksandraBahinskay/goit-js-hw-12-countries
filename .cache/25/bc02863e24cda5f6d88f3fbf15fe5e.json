{"id":"IuX0","dependencies":[{"name":"C:\\Goit\\goit-js-hw-12-countries\\package.json","includedInParent":true,"mtime":1629741987639},{"name":"C:\\Goit\\goit-js-hw-12-countries\\.browserslistrc","includedInParent":true,"mtime":1629742307154}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0;const e=\"6c03c1b0e967448eb33d601dc66c9100\",t=\"https://newsapi.org/v2\",s={headers:{Authorization:e}};class r{constructor(){this.searchQuery=\"\",this.page=1}fetchArticles(){const e=`${t}/everything?q=${this.searchQuery}&language=en&pageSize=5&page=${this.page}`;return fetch(e,s).then(e=>e.json()).then(({articles:e})=>(this.incrementPage(),e))}incrementPage(){this.page+=1}resetPage(){this.page=1}get query(){return this.searchQuery}set query(e){this.searchQuery=e}}exports.default=r;"},"sourceMaps":{"js":{"mappings":[{"source":"js/news-service.js","original":{"line":9,"column":36},"generated":{"line":1,"column":0}},{"source":"js/news-service.js","original":{"line":9,"column":36},"generated":{"line":1,"column":13}},{"source":"js/news-service.js","original":{"line":9,"column":36},"generated":{"line":1,"column":20}},{"source":"js/news-service.js","original":{"line":9,"column":36},"generated":{"line":1,"column":35}},{"source":"js/news-service.js","original":{"line":9,"column":36},"generated":{"line":1,"column":43}},{"source":"js/news-service.js","original":{"line":9,"column":36},"generated":{"line":1,"column":56}},{"source":"js/news-service.js","original":{"line":9,"column":36},"generated":{"line":1,"column":57}},{"source":"js/news-service.js","original":{"line":9,"column":36},"generated":{"line":1,"column":64}},{"source":"js/news-service.js","original":{"line":9,"column":36},"generated":{"line":1,"column":68}},{"source":"js/news-service.js","original":{"line":9,"column":36},"generated":{"line":1,"column":76}},{"source":"js/news-service.js","original":{"line":9,"column":36},"generated":{"line":1,"column":89}},{"source":"js/news-service.js","original":{"line":1,"column":0},"generated":{"line":1,"column":91}},{"source":"js/news-service.js","name":"API_KEY","original":{"line":1,"column":6},"generated":{"line":1,"column":97}},{"source":"js/news-service.js","original":{"line":1,"column":16},"generated":{"line":1,"column":99}},{"source":"js/news-service.js","name":"BASE_URL","original":{"line":2,"column":6},"generated":{"line":1,"column":134}},{"source":"js/news-service.js","original":{"line":2,"column":17},"generated":{"line":1,"column":136}},{"source":"js/news-service.js","name":"options","original":{"line":3,"column":6},"generated":{"line":1,"column":161}},{"source":"js/news-service.js","original":{"line":3,"column":16},"generated":{"line":1,"column":163}},{"source":"js/news-service.js","name":"headers","original":{"line":4,"column":2},"generated":{"line":1,"column":164}},{"source":"js/news-service.js","original":{"line":4,"column":11},"generated":{"line":1,"column":172}},{"source":"js/news-service.js","name":"Authorization","original":{"line":5,"column":4},"generated":{"line":1,"column":173}},{"source":"js/news-service.js","name":"API_KEY","original":{"line":5,"column":19},"generated":{"line":1,"column":187}},{"source":"js/news-service.js","original":{"line":9,"column":15},"generated":{"line":1,"column":191}},{"source":"js/news-service.js","name":"NewsApiService","original":{"line":9,"column":21},"generated":{"line":1,"column":197}},{"source":"js/news-service.js","name":"constructor","original":{"line":11,"column":2},"generated":{"line":1,"column":199}},{"source":"js/news-service.js","name":"searchQuery","original":{"line":12,"column":9},"generated":{"line":1,"column":213}},{"source":"js/news-service.js","name":"searchQuery","original":{"line":12,"column":9},"generated":{"line":1,"column":218}},{"source":"js/news-service.js","original":{"line":12,"column":23},"generated":{"line":1,"column":230}},{"source":"js/news-service.js","name":"page","original":{"line":13,"column":9},"generated":{"line":1,"column":233}},{"source":"js/news-service.js","name":"page","original":{"line":13,"column":9},"generated":{"line":1,"column":238}},{"source":"js/news-service.js","original":{"line":13,"column":16},"generated":{"line":1,"column":243}},{"source":"js/news-service.js","name":"fetchArticles","original":{"line":17,"column":2},"generated":{"line":1,"column":245}},{"source":"js/news-service.js","name":"url","original":{"line":24,"column":10},"generated":{"line":1,"column":261}},{"source":"js/news-service.js","name":"url","original":{"line":24,"column":10},"generated":{"line":1,"column":267}},{"source":"js/news-service.js","name":"BASE_URL","original":{"line":24,"column":19},"generated":{"line":1,"column":272}},{"source":"js/news-service.js","original":{"line":24,"column":44},"generated":{"line":1,"column":290}},{"source":"js/news-service.js","name":"searchQuery","original":{"line":24,"column":49},"generated":{"line":1,"column":295}},{"source":"js/news-service.js","original":{"line":24,"column":92},"generated":{"line":1,"column":338}},{"source":"js/news-service.js","name":"page","original":{"line":24,"column":97},"generated":{"line":1,"column":343}},{"source":"js/news-service.js","name":"fetch","original":{"line":26,"column":11},"generated":{"line":1,"column":350}},{"source":"js/news-service.js","name":"fetch","original":{"line":26,"column":11},"generated":{"line":1,"column":357}},{"source":"js/news-service.js","name":"url","original":{"line":26,"column":17},"generated":{"line":1,"column":363}},{"source":"js/news-service.js","name":"options","original":{"line":26,"column":22},"generated":{"line":1,"column":365}},{"source":"js/news-service.js","name":"then","original":{"line":27,"column":7},"generated":{"line":1,"column":368}},{"source":"js/news-service.js","name":"response","original":{"line":27,"column":13},"generated":{"line":1,"column":373}},{"source":"js/news-service.js","name":"response","original":{"line":27,"column":26},"generated":{"line":1,"column":376}},{"source":"js/news-service.js","name":"json","original":{"line":27,"column":35},"generated":{"line":1,"column":378}},{"source":"js/news-service.js","name":"then","original":{"line":28,"column":7},"generated":{"line":1,"column":386}},{"source":"js/news-service.js","original":{"line":28,"column":12},"generated":{"line":1,"column":391}},{"source":"js/news-service.js","name":"articles","original":{"line":28,"column":15},"generated":{"line":1,"column":393}},{"source":"js/news-service.js","name":"articles","original":{"line":28,"column":15},"generated":{"line":1,"column":402}},{"source":"js/news-service.js","name":"incrementPage","original":{"line":31,"column":13},"generated":{"line":1,"column":408}},{"source":"js/news-service.js","name":"incrementPage","original":{"line":31,"column":13},"generated":{"line":1,"column":413}},{"source":"js/news-service.js","name":"articles","original":{"line":36,"column":15},"generated":{"line":1,"column":429}},{"source":"js/news-service.js","name":"incrementPage","original":{"line":41,"column":2},"generated":{"line":1,"column":433}},{"source":"js/news-service.js","name":"page","original":{"line":42,"column":9},"generated":{"line":1,"column":449}},{"source":"js/news-service.js","name":"page","original":{"line":42,"column":9},"generated":{"line":1,"column":454}},{"source":"js/news-service.js","original":{"line":42,"column":17},"generated":{"line":1,"column":460}},{"source":"js/news-service.js","name":"resetPage","original":{"line":46,"column":2},"generated":{"line":1,"column":462}},{"source":"js/news-service.js","name":"page","original":{"line":47,"column":9},"generated":{"line":1,"column":474}},{"source":"js/news-service.js","name":"page","original":{"line":47,"column":9},"generated":{"line":1,"column":479}},{"source":"js/news-service.js","original":{"line":47,"column":16},"generated":{"line":1,"column":484}},{"source":"js/news-service.js","name":"query","original":{"line":50,"column":6},"generated":{"line":1,"column":486}},{"source":"js/news-service.js","original":{"line":52,"column":11},"generated":{"line":1,"column":498}},{"source":"js/news-service.js","original":{"line":52,"column":11},"generated":{"line":1,"column":505}},{"source":"js/news-service.js","name":"searchQuery","original":{"line":52,"column":16},"generated":{"line":1,"column":510}},{"source":"js/news-service.js","name":"query","original":{"line":54,"column":6},"generated":{"line":1,"column":522}},{"source":"js/news-service.js","name":"newQuery","original":{"line":54,"column":12},"generated":{"line":1,"column":532}},{"source":"js/news-service.js","name":"searchQuery","original":{"line":55,"column":9},"generated":{"line":1,"column":535}},{"source":"js/news-service.js","name":"searchQuery","original":{"line":55,"column":9},"generated":{"line":1,"column":540}},{"source":"js/news-service.js","name":"newQuery","original":{"line":55,"column":23},"generated":{"line":1,"column":552}},{"source":"js/news-service.js","original":{"line":9,"column":36},"generated":{"line":1,"column":555}},{"source":"js/news-service.js","original":{"line":9,"column":36},"generated":{"line":1,"column":563}},{"source":"js/news-service.js","original":{"line":9,"column":36},"generated":{"line":1,"column":571}}],"sources":{"js/news-service.js":"const API_KEY = \"6c03c1b0e967448eb33d601dc66c9100\";\r\nconst BASE_URL = \"https://newsapi.org/v2\";\r\nconst options = {\r\n  headers: {\r\n    Authorization: API_KEY,\r\n  },\r\n};\r\n\r\nexport default class NewsApiService {\r\n  // этот класс или его экземпляры будут отвечать за запросы на API\r\n  constructor() {\r\n    this.searchQuery = \"\";\r\n    this.page = 1;\r\n  }\r\n\r\n  // метод отвечает за HTTP запросы\r\n  fetchArticles() {\r\n    // console.log('До запроса: ', this);\r\n\r\n    // пагинация\r\n    // (названия параметров для каждого бэкенда могут отличаться, нужнос мотреть в доках)\r\n    // pageSize=5 - выдаст 5шт в результате поиска\r\n    // page=2 - выдаст вторые 5шт элементов\r\n    const url = `${BASE_URL}/everything?q=${this.searchQuery}&language=en&pageSize=5&page=${this.page}`;\r\n\r\n    return fetch(url, options)\r\n      .then((response) => response.json())\r\n      .then(({ articles }) => {\r\n        // console.log(data);\r\n\r\n        this.incrementPage();\r\n        // console.log(this);\r\n\r\n        // console.log('После запроса, если все ок: ', this);\r\n\r\n        return articles;\r\n      });\r\n  }\r\n\r\n  // увеличение страницы\r\n  incrementPage() {\r\n    this.page += 1;\r\n  }\r\n\r\n  // сброс страницы\r\n  resetPage() {\r\n    this.page = 1;\r\n  }\r\n\r\n  get query() {\r\n    //   query - хранит сервис, котор отвечает за раб с API, а не внешний код\r\n    return this.searchQuery;\r\n  }\r\n  set query(newQuery) {\r\n    this.searchQuery = newQuery;\r\n  }\r\n}\r\n"},"lineCount":null}},"error":null,"hash":"11c43ea90a79b9ae027c99e1ad80fcb2","cacheData":{"env":{}}}